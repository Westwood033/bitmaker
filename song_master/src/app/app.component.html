<div class="main-container">
  <!-- ðŸŽ¨ Partie gauche : Canvas -->
  <div class="left-panel">
    <canvas
      #canvas
      width="800"
      height="600"
      (click)="createCircle($event)"
      (mousemove)="hoverCheck($event)"
    ></canvas>
  </div>

  <!-- ðŸ“‹ Partie droite : ContrÃ´les -->
  <div class="right-panel">
    <!-- Boutons -->
    <div class="button-group">
      <button class="action-btn" (click)="start_edit()" [disabled]="edit">EDIT</button>
      <button class="action-btn" (click)="start_animation()" [disabled]="!edit">START</button>
      <button
        class="action-btn delete-main"
        (click)="deleteSelected()"
        [disabled]="!edit || !anySelected"
      >
        Supprimer
      </button>
    </div>

    <div>
      <input #speedInput type="number" value=10 class="action-btn" [disabled]="!edit">
      <button type="submit" class="action-btn" (click)="change_speed(speedInput.value)" [disabled]="!edit">SUBMIT</button>
    </div>

    <!-- Tableau des cercles -->
   <div class="table-container">
  <table class="circle-table">
    <thead>
      <tr>
        <th style="text-align: left;">Select</th>
        <th style="text-align: left;">Cercle</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let circle of allCircle"
        [style.color]="circle.selected ? 'red' : 'orange'"
        style="height: 40px;"
      >
        <td>
          <input
            type="checkbox"
            [checked]="circle.selected"
            (change)="toggleSelect(circle)"
            [disabled]="!edit"
          />
        </td>
        <td>
          <div
            class="circle-preview"
            [style.backgroundColor]="circle.selected ? 'red' : circle.color"
            (click)="openColorPopup(circle)"
          ></div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
  </div>

<div class="popup" [style.display]="showPopup ? 'flex' : 'none'">
  <div class="popup-content">
    <h3>Changer la couleur du cercle ? </h3>
    <div class="color-buttons">
      <button
        *ngFor="let c of colors"
        [style.backgroundColor]="c.value"
        [disabled]="selectedCircle?.color === c.value"
        (click)="changeCircleColor(c.value)"
      >
      </button>
    </div>
    <button (click)="showPopup = false" class="close-btn">Fermer</button>
  </div>
</div>

</div>
